var o=(r,e,a)=>new Promise((t,s)=>{var d=p=>{try{c(a.next(p))}catch(u){s(u)}},i=p=>{try{c(a.throw(p))}catch(u){s(u)}},c=p=>p.done?t(p.value):Promise.resolve(p.value).then(d,i);c((a=a.apply(r,e)).next())});import{d as n}from"./index-BJ2Ssq_J.js";const l={test:{headers:{"Content-Type":"application/json","PAYDUNYA-MASTER-KEY":"voFGVcul-uCsd-1sw5-wfGz-ukqScIQoOyDu","PAYDUNYA-PRIVATE-KEY":"test_private_LJfJe2zAiwndwRq6ZF4qIDIoApZ","PAYDUNYA-TOKEN":"VaZUkYb6b1JOpZfxUe3R"},url:"https://app.paydunya.com/sandbox-api/v1/checkout-invoice/confirm/"},live:{headers:{"Content-Type":"application/json","PAYDUNYA-MASTER-KEY":"voFGVcul-uCsd-1sw5-wfGz-ukqScIQoOyDu","PAYDUNYA-PRIVATE-KEY":"live_private_KvbXuQU1IJ4z68hQOU9YeEtrUjW","PAYDUNYA-TOKEN":"cjTGi71WL8xOTCrsJisR"},url:"https://app.paydunya.com/api/v1/checkout-invoice/confirm/"}},h={createPrecommandePaiment:r=>o(null,null,function*(){try{return(yield n.get(`/api/precommande/${r}/payment`)).data}catch(e){throw console.error("Erreur lors du paiement",e),e}}),createPrecommandePaimentMontant:(r,e,a)=>o(null,null,function*(){try{return(yield n.get(`/api/precommande/${r}/payment/${e}/${a}`)).data}catch(t){throw console.error("Erreur lors du paiement",t),t}}),createPrecommandePaimentState:(r,e,a)=>o(null,null,function*(){try{return(yield n.get(`/api/precommande/${r}/payment/${e}/${a}`)).data}catch(t){throw console.error("Erreur lors du paiement",t),t}}),createCommandePaiment:r=>o(null,null,function*(){try{return(yield n.get(`/api/commande/${r}/payment`)).data}catch(e){throw console.error("Erreur lors du paiement",e),e}}),setPaymentDetails:r=>o(null,null,function*(){try{return(yield n.post("/api/payment/set",r)).data}catch(e){throw console.error("Erreur lors de l'enregistrement des détails du paiement",e),e}}),getPaymentDetails:r=>o(null,null,function*(){try{return(yield n.get(`/api/payment/get/${r}`)).data}catch(e){throw console.error("Erreur lors de la récupération des détails du paiement",e),e}}),getPaymentsPartner:r=>o(null,null,function*(){try{return(yield n.get(`/api/payment/partner/${r}`)).data}catch(e){throw console.error("Erreur lors de la récupération des détails du paiement",e),e}}),getPaymentDetailsById:r=>o(null,null,function*(){try{return(yield n.get(`/api/payment/byId/${r}`)).data}catch(e){throw console.error("Erreur lors de la récupération des détails du paiement",e),e}}),getPaymentDetailsByToken:r=>o(null,null,function*(){try{return(yield n.get(`/api/payment/byToken/${r}`)).data}catch(e){throw console.error("Erreur lors de la récupération des détails du paiement",e),e}}),updatePaymentDetails:(r,e,a,t,s,d,i)=>o(null,null,function*(){console.log("id precommande ",r);try{return(yield n.put(`/api/payment/update/${r}`,{payment_state:e,url_facture:a,customer_name:t,customer_email:s,customer_phone:d,token_status:i})).data}catch(c){throw console.error("Erreur lors de la récupération des détails du paiement",c),c}}),getPaymentDetailsByIdOrder:r=>o(null,null,function*(){try{return(yield n.get(`/api/payment/byOrder/${r}`)).data}catch(e){throw console.error("Erreur lors de la récupération des détails du paiement",e),e}}),putCreateInvoiceAfterPaided:r=>o(null,null,function*(){try{return(yield n.put(`/api/payment/create-invoice-afterPaided/${r}`)).data}catch(e){throw console.error("Erreur lors de la récupération des détails du paiement",e),e}}),putPaymentDetailByToken:(r,e,a,t,s,d)=>o(null,null,function*(){let i={url_facture:e,customer_name:a,customer_email:t,customer_phone:s,payment_state:d};console.log(i);try{return(yield n.put(`/api/payment/verify/${r}`,i)).data}catch(c){throw console.log(c),c}}),confirmInvoice:r=>o(null,null,function*(){const e={"Content-Type":"application/json","PAYDUNYA-MASTER-KEY":"voFGVcul-uCsd-1sw5-wfGz-ukqScIQoOyDu","PAYDUNYA-PRIVATE-KEY":"live_private_KvbXuQU1IJ4z68hQOU9YeEtrUjW","PAYDUNYA-TOKEN":"cjTGi71WL8xOTCrsJisR"},a=`https://app.paydunya.com/api/v1/checkout-invoice/confirm/${r}`,t=yield n.get(a,{headers:e});if(t.status===200)return t.data;throw new Error(t.data.response_text)}),confirmInvoice2:(r,e=!1)=>o(null,null,function*(){const a=e?l.live:l.test,t=`${a.url}${r}`;try{const s=yield n.get(t,{headers:a.headers});if(s.status===200)return s.data;throw new Error(s.data.response_text)}catch(s){throw new Error(s.message)}})};export{h as P};
